# CodeQuest ‚Äî Telegram Mini App (MVP)

–ì–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤–Ω—É—Ç—Ä–∏ Telegram WebApp: –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (JS, Git, SQL, Node.js, React),
—É—Ä–æ–≤–Ω–∏ (Bronze‚ÜíDiamond), –ø–æ–¥—É—Ä–æ–≤–Ω–∏, –º–∏–Ω–∏-–∑–∞–¥–∞–Ω–∏—è –∏ –±–æ—Å—Å-–∑–∞–¥–∞–Ω–∏—è. –í —ç—Ç–æ–º MVP —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- Telegram WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (initData)
- –ë–∞–∑–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (vanilla JS) —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º –∫–æ–¥–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- –°–µ—Ä–≤–µ—Ä –Ω–∞ Node.js/Express
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ JSON (seed)
- –¢–µ—Å—Ç-—Ä–∞–Ω–Ω–µ—Ä —Å –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π (Node vm) –¥–ª—è JS-–∑–∞–¥–∞—á
- –ü—Ä–æ—Å—Ç–∞—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è-–∑–∞–≥–ª—É—à–∫–∞ (—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã/—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é (Dockerfile, Procfile)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

1) –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm i
```

2) –°–æ–∑–¥–∞–π `.env` –≤ –∫–æ—Ä–Ω–µ (—Å–º. `.env.example`). –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏:
```
BOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê
WEBAPP_URL=http://localhost:8080
PORT=8080
NODE_ENV=development
ALLOW_DEBUG_NO_INITDATA=true
```

3) –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:
```bash
npm run dev
```
–û—Ç–∫—Ä–æ–π `http://localhost:8080` ‚Äî —ç—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ WebApp.

> –í —Ä–µ–∂–∏–º–µ `ALLOW_DEBUG_NO_INITDATA=true` –ø–æ–¥–ø–∏—Å—å Telegram –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ,
> —á—Ç–æ–±—ã –±—ã–ª–æ —É–¥–æ–±–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram

1) –í BotFather:
- /newbot ‚Üí –ø–æ–ª—É—á–∏ `BOT_TOKEN`
- /setdomain –∏–ª–∏ /setmenubutton –¥–ª—è WebApp (—É–∫–∞–∂–∏ –ø—É–±–ª–∏—á–Ω—ã–π URL, –Ω–∞–ø—Ä–∏–º–µ—Ä –æ—Ç ngrok/Render/Fly)
- /setcommands (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

2) –í —Å–≤–æ—ë–º –±–æ—Ç–µ –æ—Ç–ø—Ä–∞–≤—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–Ω–æ–ø–∫—É, –æ—Ç–∫—Ä—ã–≤–∞—é—â—É—é WebApp, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ
–æ—Ç–∫—Ä–æ–π –ø—É–±–ª–∏—á–Ω—ã–π URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ ‚Äî Telegram –ø–µ—Ä–µ–¥–∞—Å—Ç `initData` –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ –∏–∑ –±–æ—Ç–∞.

## –î–µ–ø–ª–æ–π –≤–∞—Ä–∏–∞–Ω—Ç—ã
- Docker:
```bash
docker build -t codequest-miniapp .
docker run -p 8080:8080 --env-file .env codequest-miniapp
```
- Render/Railway/Fly/Heroku: –ø—Ä–æ—Å—Ç–æ –∑–∞–¥–µ–ø–ª–æ–π –∫–æ–¥, —É–∫–∞–∂–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- Procfile –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º, –≥–¥–µ –Ω—É–∂–µ–Ω `web: node server/index.js`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
codequest-miniapp/
  server/
    index.js
    verifyTelegram.js
    sandbox.js
    routes/
      auth.js
      content.js
      tasks.js
      pay.js
    data/seed.json
    tests/ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ mocha-—Ç–µ—Å—Ç—ã)
  webapp/
    index.html
    app.js
    styles.css
  .env.example
  package.json
  Dockerfile
  Procfile
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MVP
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ JS-–∑–∞–¥–∞—á–∏ (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö require).
- –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è ‚Äî –∑–∞–≥–ª—É—à–∫–∞ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ entitlement), –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π.
- –ë—ç–∫–µ–Ω–¥ —Ö—Ä–∞–Ω–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ JSON-—Ñ–∞–π–ª–µ (–≤ —Ä–µ–∞–ª–µ –≤—ã–Ω–µ—Å–∏ –≤ –ë–î).

–£–¥–∞—á–∏! üöÄ
